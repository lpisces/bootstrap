{{define "login"}}
{{template "header" .}}
<div class="container h-100">
	<div class="row h-100 mt-4 justify-content-sm-center">
		<div class="col-sm-4 card">
			<div class="card-body">
			<h4 class="card-title">登录</h4>
		  <form class="needs-validation" method="POST" action="/login" novalidate>
				<div class="form-group">
		    	<label for="inputEmail">Email</label>
		    	<input type="email" name="email" id="inputEmail" 
						class="form-control form-control-sm 
						{{if eq true .Checked }} {{if eq "" (index .Error "Email")}}is-valid{{else}}is-invalid{{end}} {{end}}" 
						placeholder="请输入Email" required 
						value="{{if eq true .Checked}}{{.User.Email}}{{end}}"
						{{if ne true .Checked}}autofocus="autofocus"{{end}}
						{{if and (eq true .Checked) (ne "" (index .Error "Email"))}}autofocus="autofocus"{{end}}>
					<div class="invalid-feedback" id="email-invalid-feedback">
						{{if .Checked}}
							{{if ne "" (index .Error "Email")}}
								{{index .Error "Email"}}
							{{end}}
						{{else}}
						请输入Email
						{{end}}
					</div>
				</div>
				<div class="form-group">
		    	<label for="inputPassword">密码</label>
		    	<input type="password" name="password" value="" id="inputPassword" class="form-control form-control-sm
						{{if eq true .Checked }} {{if eq "" (index .Error "Password")}}is-valid{{else}}is-invalid{{end}} {{end}}" 
					 placeholder="Password" required>
					<div class="invalid-feedback" id="password-invalid-feedback">
						{{if .Checked}}
							{{if ne "" (index .Error "Password")}}
								{{index .Error "Password"}}
							{{else}}
								请输入密码
							{{end}}
						{{else}}
						请输入密码
						{{end}}
					</div>
				</div>
				<button type="submit" class="btn btn-primary btn-sm">登录</button>
		  </form>
			<p class="mt-5 mb-3 text-muted">&copy; {{.SiteName}} 2017-2018</p>
			</div>
		</div>
	</div>
</div>
{{template "footer" .}}
{{end}}
