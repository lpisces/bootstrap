{{define "reset_password"}}
{{template "header" .}}
<div class="container h-100">
	<div class="row h-100 mt-4 justify-content-sm-center">
		<div class="col-sm-4 card">
			<div class="card-body">
			<h4 class="card-title">重置密码</h4>
			{{if eq 0 (len .Error)}}
		  <form class="needs-validation" method="POST" action="/reset_password" novalidate>
				<input type="hidden" name="code" value="{{.Token.Code}}" >
				<div class="form-group">
		    	<label for="inputPassword">密码</label>
		    	<input type="password" name="password" value="" id="inputPassword" class="form-control form-control-sm
						{{if ne 0 (len .Error) }} {{if eq "" (index .Error "Password")}}is-valid{{else}}is-invalid{{end}} {{end}}" 
					 placeholder="Password" required>
					<div class="invalid-feedback" id="password-invalid-feedback">
						{{if ne 0 (len .Error)}}
							{{if ne "" (index .Error "Password")}}
								{{index .Error "Password"}}
							{{else}}
								请输入密码
							{{end}}
						{{else}}
						请输入密码
						{{end}}
					</div>
				</div>
				<div class="form-group">
		    	<label for="inputPasswordConfirm">确认密码</label>
		    	<input type="password" name="password_confirm" value="" id="inputPasswordConfirm" class="form-control form-control-sm 
						{{if ne 0 (len .Error) }} {{if eq "" (index .Error "PasswordConfirm")}}is-valid{{else}}is-invalid{{end}} {{end}}" 
					placeholder="Password" required>
					<div class="invalid-feedback" id="password-confirm-invalid-feedback">
						{{if ne 0 (len .Error)}}
							{{if ne "" (index .Error "PasswordConfirm")}}
								{{index .Error "PasswordConfirm"}}
							{{else}}
								请确认密码
							{{end}}
						{{else}}
						请确认密码
						{{end}}
					</div>
				</div>
				<button type="submit" class="btn btn-primary btn-sm">确定</button>
				<p class="text-sm-right">
					<a href="/forget_password">忘记密码?</a>
					<span>/</span>
					<a href="/register">注册</a>
				</p>
		  </form>
			{{else}}
				{{.Error.Token}}
			{{end}}
			<p class="mt-5 mb-3 text-muted">&copy; {{.SiteName}} 2017-2018</p>
			</div>
		</div>
	</div>
</div>
{{template "footer" .}}
{{end}}
